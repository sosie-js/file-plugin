/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FilePlugin=t():e.FilePlugin=t()}(self,(function(){return(()=>{var e={96:function(e,t){var n,o;void 0===(o="function"==typeof(n=function(){return function e(t,n,o){var r,a,i=window,s="application/octet-stream",l=o||s,c=t,d=!n&&!o&&c,f=document.createElement("a"),u=function(e){return String(e)},p=i.Blob||i.MozBlob||i.WebKitBlob||u,w=n||"download";if(p=p.call?p.bind(i):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),d&&d.length<2048&&(w=d.split("/").pop().split("?")[0],f.href=d,-1!==f.href.indexOf(d))){var g=new XMLHttpRequest;return g.open("GET",d,!0),g.responseType="blob",g.onload=function(t){e(t.target.response,w,s)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&p!==u))return navigator.msSaveBlob?navigator.msSaveBlob(h(c),w):y(c);l=(c=h(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var v=0,b=new Uint8Array(c.length),m=b.length;v<m;++v)b[v]=c.charCodeAt(v);c=new p([b],{type:l})}function h(e){for(var t=e.split(/[:;,]/),n=t[1],o=("base64"==t[e.indexOf("charset")>0?3:2]?atob:decodeURIComponent)(t.pop()),r=o.length,a=0,i=new Uint8Array(r);a<r;++a)i[a]=o.charCodeAt(a);return new p([i],{type:n})}function y(e,t){if("download"in f)return f.href=e,f.setAttribute("download",w),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",f.addEventListener("click",(function(e){e.stopPropagation(),this.removeEventListener("click",arguments.callee)})),document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(r=c instanceof p?c:new p([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,w);if(i.URL)y(i.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===u)try{return y("data:"+l+";base64,"+i.btoa(r))}catch(e){return y("data:"+l+","+encodeURIComponent(r))}(a=new FileReader).onload=function(e){y(this.result)},a.readAsDataURL(r)}return!0}})?n.apply(t,[]):n)||(e.exports=o)},125:function(e,t,n){var o,r;void 0===(r="function"==typeof(o=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,i=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,n,i){var s=a.URL||a.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):o(l.href)?t(e,n,i):r(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),n);else if(o(e))t(e,n,a);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){r(i)}))}}:function(e,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var f=a.URL||a.webkitURL,u=f.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout((function(){f.revokeObjectURL(u)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?o.apply(t,[]):o)||(e.exports=r)},579:function(e,t,n){var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:this,r="sosie_file.json";o.getCurrentFile=function(){return r},File.init=function(e){n(96),n(125)},o.downloadJSON=function(e,t,n){e=n.compact?JSON.stringify(e):JSON.stringify(e,null,2);var o=new Blob([e]);"filesaver"==n.method?saveAs(o,t,"application/json"):download(o,t,"application/json")},o.clearOrOpenUrl=function(e){var t=prompt("Clear the editor(content will be lost using this url) ?","about:blank");if("about:blank"!=t)if(/https?:\/\//.test(t)){var n={url:t},o=new FormData;o.append("data",JSON.stringify(n)),fetch("${currentScript}".replace("/dist/bundle.js","")+"/dist/corsget.php",{method:"POST",credentials:"same-origin",body:o}).then((function(e){return e.ok?e.text():Promise.reject("Error "+e.status+" : "+e.statusText)}),(function(e){alert(e.message)})).then((async e=>{let t,n;if(null!==(t=/^Error : (\d+)$/.exec(e))){switch(parseInt(t[1])){case 404:n="MISSING DATA";break;case 504:n="FORBIDDEN DOMAIN; check your CORS settings in corsget.php";break;default:n="Unknown Error code "+t}alert(n)}else loadHTML(e)})).catch((function(e){alert("Error : "+e+"(requires corsget.php to be installed)")}))}else alert("Invalid Url");else e.clear()},o.openFileHandler=function(e){var t=this.value.match(/\.([^\.]+)$/)[1].toLowerCase(),n=new RegExp(this.getAttribute("accept").replace(/,/g,"$|^").replace(/\./g,"").toLowerCase());if(console.log('Is "'+t+'" in "'+n+'"?'),t.match(n)){var o=e.target.files;f=o[0],r=f.name,console.info("Open File",r);var a=new FileReader,i=function(e,t){alert(`[${t?"EXPLICIT":"INEXPLICIT"}] ${e.name}: ${e.message}`)};a.onload=(f,function(e){try{var t=e.target.result,n=JSON.parse(t);window.loadJS(n)}catch(e){e instanceof SyntaxError?i(e,!0):i(e,!1)}}),a.readAsText(f)}else alert('Please do not try to upload files with the extension "'+t+'".')},o.saveFileInLocal=function(e){e.save(!0).then((e=>{let t=getCurrentFile();downloadJSON(e,t,{method:"filesaver",compact:!1})}))},SoSIE.register("File")}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n(579)})()}));